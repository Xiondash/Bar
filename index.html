<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Reserva - Bar de Música</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h2>Formulario de Datos - Cabrón</h2>
  <form id="dataForm" action="https://script.google.com/macros/s/AKfycbw2jiIsgxN6VhWctNInTfRp-tc52_I6_tZno3BqFhghwFJeod4UDegHwhZg76C_NdJF6Q/exec" method="POST">
  <label>Nombre: <input type="text" name="nombre" required></label><br>
  <label>Correo: <input type="email" name="correo" required></label><br>
  <label>Teléfono: <input type="text" name="telefono" required></label><br>
  <label>Fecha de nacimiento: <input type="date" name="fecha"></label><br>
  <label>Comentarios: <textarea name="comentarios"></textarea></label><br>
  <button type="submit">Enviar</button>
</form>

<p id="respuesta"></p>
<script>
  window.addEventListener('DOMContentLoaded', () => {
    const urlParams = new URLSearchParams(window.location.search);
    const enviado = urlParams.get('enviado');

    if (enviado === '1') {
      const mensaje = document.createElement('div');
      mensaje.textContent = '✅ ¡Datos enviados correctamente!';
      mensaje.style.background = '#d4edda';
      mensaje.style.color = '#155724';
      mensaje.style.padding = '10px';
      mensaje.style.border = '1px solid #c3e6cb';
      mensaje.style.borderRadius = '5px';
      mensaje.style.marginBottom = '10px';
      mensaje.style.fontWeight = 'bold';

      const form = document.querySelector('form');
      form.parentNode.insertBefore(mensaje, form);

      // Eliminar el mensaje después de 5 segundos
      setTimeout(() => {
        mensaje.remove();
        // Limpiar la URL quitando el parámetro ?enviado=1
        const newUrl = window.location.origin + window.location.pathname;
        window.history.replaceState({}, document.title, newUrl);
      }, 5000);
    }
  });
</script>

</body>
</html>